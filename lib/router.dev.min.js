"format register";System.register("angular2/src/router/route_definition",[],!1,function(t,e,n){return System.get("@@global-helpers").prepareGlobal(n.id,[]),function(){}.call(System.global),System.get("@@global-helpers").retrieveGlobal(n.id,!1)}),System.register("angular2/src/router/lifecycle_annotations_impl",["angular2/src/facade/lang"],function(t){"use strict";var e,n,r,i,a,o,c,u,s,f,l;return{setters:[function(t){r=t.CONST,i=t.CONST_EXPR}],execute:function(){e=this&&this.__decorate||function(t,e,n,r){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(t,e,n,r);switch(arguments.length){case 2:return t.reduceRight(function(t,e){return e&&e(t)||t},e);case 3:return t.reduceRight(function(t,r){return void(r&&r(e,n))},void 0);case 4:return t.reduceRight(function(t,r){return r&&r(e,n,t)||t},r)}},n=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},a=$traceurRuntime.createClass(function(t){this.name=t},{},{}),t("RouteLifecycleHook",a),t("RouteLifecycleHook",a=e([r(),n("design:paramtypes",[String])],a)),o=$traceurRuntime.createClass(function(t){this.fn=t},{},{}),t("CanActivate",o),t("CanActivate",o=e([r(),n("design:paramtypes",[Function])],o)),c=i(new a("canReuse")),t("canReuse",c),u=i(new a("canDeactivate")),t("canDeactivate",u),s=i(new a("onActivate")),t("onActivate",s),f=i(new a("onReuse")),t("onReuse",f),l=i(new a("onDeactivate")),t("onDeactivate",l)}}}),System.register("angular2/src/router/instruction",["angular2/src/facade/collection","angular2/src/facade/lang"],function(t){"use strict";var e,n,r,i,a,o;return{setters:[function(t){e=t.StringMapWrapper},function(t){n=t.isPresent,r=t.isBlank,i=t.normalizeBlank}],execute:function(){a=function(){function t(t){this.params=t}return $traceurRuntime.createClass(t,{get:function(t){return i(e.get(this.params,t))}},{})}(),t("RouteParams",a),o=function(){function t(t,e,r){var i=void 0!==arguments[3]?arguments[3]:null,a=void 0!==arguments[4]?arguments[4]:null;if(this.component=t,this.capturedUrl=e,this._recognizer=r,this.child=i,this._params=a,this.reuse=!1,this.accumulatedUrl=e,this.specificity=r.specificity,n(i)){this.child=i,this.specificity+=i.specificity;var o=i.accumulatedUrl;n(o)&&(this.accumulatedUrl+=o)}}return $traceurRuntime.createClass(t,{params:function(){return r(this._params)&&(this._params=this._recognizer.parseParams(this.capturedUrl)),this._params}},{})}(),t("Instruction",o)}}}),System.register("angular2/src/router/lifecycle_annotations",["angular2/src/util/decorators","angular2/src/router/lifecycle_annotations_impl"],function(t){"use strict";var e,n,r;return{setters:[function(t){e=t.makeDecorator},function(e){n=e.CanActivate,t("canReuse",e.canReuse),t("canDeactivate",e.canDeactivate),t("onActivate",e.onActivate),t("onReuse",e.onReuse),t("onDeactivate",e.onDeactivate)}],execute:function(){r=e(n),t("CanActivate",r)}}}),System.register("angular2/src/router/location_strategy",["angular2/src/facade/lang"],function(t){"use strict";function e(){return new n("This method is abstract")}var n,r;return{setters:[function(t){n=t.BaseException}],execute:function(){r=function(){function t(){}return $traceurRuntime.createClass(t,{path:function(){throw e()},pushState:function(){throw e()},forward:function(){throw e()},back:function(){throw e()},onPopState:function(){throw e()},getBaseHref:function(){throw e()}},{})}(),t("LocationStrategy",r)}}}),System.register("angular2/src/router/helpers",["angular2/src/facade/lang"],function(t){"use strict";function e(t,e,r){var i=e[0];("?"==i||";"==i)&&(e=e.substring(1)),e.split(t).forEach(function(t){var e=t.split("="),i=e[0];if(!n(r[i])){var a=e.length>1?e[1]:!0;r[i]=a}})}var n;return t("parseAndAssignParamString",e),{setters:[function(t){n=t.isPresent}],execute:function(){}}}),System.register("angular2/src/router/url",["angular2/src/facade/lang"],function(t){"use strict";function e(t){return r.replaceAllMapped(t,a,function(t){return"\\"+t})}var n,r,i,a;return t("escapeRegex",e),{setters:[function(t){n=t.RegExpWrapper,r=t.StringWrapper}],execute:function(){i=["/",".","*","+","?","|","(",")","[","]","{","}","\\"],a=n.create("(\\"+i.join("|\\")+")","g")}}}),System.register("angular2/src/router/route_config_impl",["angular2/src/facade/lang"],function(t){"use strict";var e,n,r,i,a,o,c;return{setters:[function(t){r=t.CONST}],execute:function(){e=this&&this.__decorate||function(t,e,n,r){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(t,e,n,r);switch(arguments.length){case 2:return t.reduceRight(function(t,e){return e&&e(t)||t},e);case 3:return t.reduceRight(function(t,r){return void(r&&r(e,n))},void 0);case 4:return t.reduceRight(function(t,r){return r&&r(e,n,t)||t},r)}},n=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},i=$traceurRuntime.createClass(function(t){this.configs=t},{},{}),t("RouteConfig",i),t("RouteConfig",i=e([r(),n("design:paramtypes",[Object])],i)),a=$traceurRuntime.createClass(function(t){var e=t,n=e.path,r=e.component,i=e.as;this.path=n,this.component=r,this.as=i,this.loader=null,this.redirectTo=null},{},{}),t("Route",a),t("Route",a=e([r(),n("design:paramtypes",[Object])],a)),o=$traceurRuntime.createClass(function(t){var e=t,n=e.path,r=e.loader,i=e.as;this.path=n,this.loader=r,this.as=i},{},{}),t("AsyncRoute",o),t("AsyncRoute",o=e([r(),n("design:paramtypes",[Object])],o)),c=$traceurRuntime.createClass(function(t){var e=t,n=e.path,r=e.redirectTo;this.as=null,this.path=n,this.redirectTo=r},{},{}),t("Redirect",c),t("Redirect",c=e([r(),n("design:paramtypes",[Object])],c))}}}),System.register("angular2/src/router/async_route_handler",["angular2/src/facade/lang"],function(t){"use strict";var e,n;return{setters:[function(t){e=t.isPresent}],execute:function(){n=function(){function t(t){this._loader=t,this._resolvedComponent=null}return $traceurRuntime.createClass(t,{resolveComponentType:function(){var t=this;return e(this._resolvedComponent)?this._resolvedComponent:this._resolvedComponent=this._loader().then(function(e){return t.componentType=e,e})}},{})}(),t("AsyncRouteHandler",n)}}}),System.register("angular2/src/router/sync_route_handler",["angular2/src/facade/async"],function(t){"use strict";var e,n;return{setters:[function(t){e=t.PromiseWrapper}],execute:function(){n=function(){function t(t){this.componentType=t,this._resolvedComponent=null,this._resolvedComponent=e.resolve(t)}return $traceurRuntime.createClass(t,{resolveComponentType:function(){return this._resolvedComponent}},{})}(),t("SyncRouteHandler",n)}}}),System.register("angular2/src/router/route_config_decorator",["angular2/src/router/route_config_impl","angular2/src/util/decorators"],function(t){"use strict";var e,n,r;return{setters:[function(n){e=n.RouteConfig,t("Route",n.Route),t("Redirect",n.Redirect),t("AsyncRoute",n.AsyncRoute)},function(t){n=t.makeDecorator}],execute:function(){r=n(e),t("RouteConfig",r)}}}),System.register("angular2/src/router/hash_location_strategy",["angular2/src/dom/dom_adapter","angular2/di","angular2/src/router/location_strategy"],function(t){"use strict";var e,n,r,i,a,o;return{setters:[function(t){r=t.DOM},function(t){i=t.Injectable},function(t){a=t.LocationStrategy}],execute:function(){e=this&&this.__decorate||function(t,e,n,r){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(t,e,n,r);switch(arguments.length){case 2:return t.reduceRight(function(t,e){return e&&e(t)||t},e);case 3:return t.reduceRight(function(t,r){return void(r&&r(e,n))},void 0);case 4:return t.reduceRight(function(t,r){return r&&r(e,n,t)||t},r)}},n=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},o=function(t){function e(){$traceurRuntime.superConstructor(e).call(this),this._location=r.getLocation(),this._history=r.getHistory()}return $traceurRuntime.createClass(e,{onPopState:function(t){r.getGlobalEventTarget("window").addEventListener("popstate",t,!1)},getBaseHref:function(){return""},path:function(){var t=this._location.hash;return t.length>0?t.substring(1):t},pushState:function(t,e,n){this._history.pushState(t,e,"#"+n)},forward:function(){this._history.forward()},back:function(){this._history.back()}},{},t)}(a),t("HashLocationStrategy",o),t("HashLocationStrategy",o=e([i(),n("design:paramtypes",[])],o))}}}),System.register("angular2/src/router/html5_location_strategy",["angular2/src/dom/dom_adapter","angular2/di","angular2/src/router/location_strategy"],function(t){"use strict";var e,n,r,i,a,o;return{setters:[function(t){r=t.DOM},function(t){i=t.Injectable},function(t){a=t.LocationStrategy}],execute:function(){e=this&&this.__decorate||function(t,e,n,r){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(t,e,n,r);switch(arguments.length){case 2:return t.reduceRight(function(t,e){return e&&e(t)||t},e);case 3:return t.reduceRight(function(t,r){return void(r&&r(e,n))},void 0);case 4:return t.reduceRight(function(t,r){return r&&r(e,n,t)||t},r)}},n=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},o=function(t){function e(){$traceurRuntime.superConstructor(e).call(this),this._location=r.getLocation(),this._history=r.getHistory(),this._baseHref=r.getBaseHref()}return $traceurRuntime.createClass(e,{onPopState:function(t){r.getGlobalEventTarget("window").addEventListener("popstate",t,!1)},getBaseHref:function(){return this._baseHref},path:function(){return this._location.pathname},pushState:function(t,e,n){this._history.pushState(t,e,n)},forward:function(){this._history.forward()},back:function(){this._history.back()}},{},t)}(a),t("HTML5LocationStrategy",o),t("HTML5LocationStrategy",o=e([i(),n("design:paramtypes",[])],o))}}}),System.register("angular2/src/router/pipeline",["angular2/src/facade/async","angular2/di"],function(t){"use strict";var e,n,r,i,a;return{setters:[function(t){r=t.PromiseWrapper},function(t){i=t.Injectable}],execute:function(){e=this&&this.__decorate||function(t,e,n,r){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(t,e,n,r);switch(arguments.length){case 2:return t.reduceRight(function(t,e){return e&&e(t)||t},e);case 3:return t.reduceRight(function(t,r){return void(r&&r(e,n))},void 0);case 4:return t.reduceRight(function(t,r){return r&&r(e,n,t)||t},r)}},n=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},a=$traceurRuntime.createClass(function(){this.steps=[function(t){return t.router.activateOutlets(t)}]},{process:function(t){function e(){var a=void 0!==arguments[0]?arguments[0]:!0;if(i>=n.length)return r.resolve(a);var o=n[i];return i+=1,r.resolve(o(t)).then(e)}var n=this.steps,i=0;return e()}},{}),t("Pipeline",a),t("Pipeline",a=e([i(),n("design:paramtypes",[])],a))}}}),System.register("angular2/src/router/location",["angular2/src/router/location_strategy","angular2/src/facade/lang","angular2/src/facade/async","angular2/di"],function(t){"use strict";function e(t){return/\/index.html$/g.test(t)?t.substring(0,t.length-11):t}function n(t){return/\/$/g.test(t)&&(t=t.substring(0,t.length-1)),t}var r,i,a,o,c,u,s,f,l,h,g,p,m,d,_,v;return{setters:[function(t){o=t.LocationStrategy},function(t){c=t.isPresent,u=t.CONST_EXPR,l=t.BaseException,h=t.isBlank},function(t){s=t.EventEmitter,f=t.ObservableWrapper},function(t){g=t.OpaqueToken,p=t.Injectable,m=t.Optional,d=t.Inject}],execute:function(){r=this&&this.__decorate||function(t,e,n,r){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(t,e,n,r);switch(arguments.length){case 2:return t.reduceRight(function(t,e){return e&&e(t)||t},e);case 3:return t.reduceRight(function(t,r){return void(r&&r(e,n))},void 0);case 4:return t.reduceRight(function(t,r){return r&&r(e,n,t)||t},r)}},i=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},a=this&&this.__param||function(t,e){return function(n,r){e(n,r,t)}},_=u(new g("locationHrefToken")),t("appBaseHrefToken",_),v=$traceurRuntime.createClass(function(t,r){var i=this;this._platformStrategy=t,this._subject=new s;var a=c(r)?r:this._platformStrategy.getBaseHref();if(h(a))throw new l('No base href set. Either provide a binding to "appBaseHrefToken" or add a base element.');this._baseHref=n(e(a)),this._platformStrategy.onPopState(function(t){return i._onPopState(t)})},{_onPopState:function(){f.callNext(this._subject,{url:this.path(),pop:!0})},path:function(){return this.normalize(this._platformStrategy.path())},normalize:function(t){return n(this._stripBaseHref(e(t)))},normalizeAbsolutely:function(t){return t.startsWith("/")||(t="/"+t),n(this._addBaseHref(t))},_stripBaseHref:function(t){return this._baseHref.length>0&&t.startsWith(this._baseHref)?t.substring(this._baseHref.length):t},_addBaseHref:function(t){return t.startsWith(this._baseHref)?t:this._baseHref+t},go:function(t){var e=this.normalizeAbsolutely(t);this._platformStrategy.pushState(null,"",e)},forward:function(){this._platformStrategy.forward()},back:function(){this._platformStrategy.back()},subscribe:function(t){var e=void 0!==arguments[1]?arguments[1]:null,n=void 0!==arguments[2]?arguments[2]:null;f.subscribe(this._subject,t,e,n)}},{}),t("Location",v),t("Location",v=r([p(),a(1,m()),a(1,d(_)),i("design:paramtypes",[o,String])],v))}}}),System.register("angular2/src/router/path_recognizer",["angular2/src/facade/lang","angular2/src/facade/collection","angular2/src/router/helpers","angular2/src/router/url"],function(t){"use strict";function e(t){return f(t)?null:t.toString()}function n(t){u.startsWith(t,"/")&&(t=u.substring(t,1));var e=r(t),n=[],i=0;if(e.length>98)throw new l("'"+t+"' has more than the maximum supported number of segments.");for(var a=e.length-1,o=0;a>=o;o++){var f=e[o],g=void 0;if(s(g=c.firstMatch(S,f)))n.push(new b(g[1])),i+=100-o;else if(s(g=c.firstMatch(C,f)))n.push(new w(g[1]));else if("..."==f){if(a>o)throw new l('Unexpected "..." before the end of the path for "'+t+'".');n.push(new R)}else f.length>0&&(n.push(new y(f)),i+=100*(100-o))}var p=h.create();return h.set(p,"segments",n),h.set(p,"specificity",i),p}function r(t){return t.split("/")}function i(t){if(u.contains(t,"#"))throw new l('Path "'+t+'" should not include "#". Use "HashLocationStrategy" instead.');var e=c.firstMatch(x,t);if(s(e))throw new l('Path "'+t+'" contains "'+e[0]+'" which is not allowed in a route config.')}var a,o,c,u,s,f,l,h,g,p,m,d,_,v,R,y,b,w,S,C,x,k;return{setters:[function(t){c=t.RegExpWrapper,u=t.StringWrapper,s=t.isPresent,f=t.isBlank,l=t.BaseException,p=t.IMPLEMENTS},function(t){h=t.StringMapWrapper,g=t.ListWrapper},function(t){m=t.parseAndAssignParamString},function(t){d=t.escapeRegex}],execute:function(){a=this&&this.__decorate||function(t,e,n,r){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(t,e,n,r);switch(arguments.length){case 2:return t.reduceRight(function(t,e){return e&&e(t)||t},e);case 3:return t.reduceRight(function(t,r){return void(r&&r(e,n))},void 0);case 4:return t.reduceRight(function(t,r){return r&&r(e,n,t)||t},r)}},o=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},_=function(){function t(){}return $traceurRuntime.createClass(t,{generate:function(){return""}},{})}(),t("Segment",_),v=function(){function t(t){var e=this;this.map=h.create(),this.keys=h.create(),s(t)&&h.forEach(t,function(t,n){e.map[n]=s(t)?t.toString():null,e.keys[n]=!0})}return $traceurRuntime.createClass(t,{get:function(t){return h.delete(this.keys,t),this.map[t]},getUnused:function(){var t=this,e=h.create(),n=h.keys(this.keys);return g.forEach(n,function(n){e[n]=h.get(t.map,n)}),e}},{})}(),R=function(t){function e(){$traceurRuntime.superConstructor(e).apply(this,arguments)}return $traceurRuntime.createClass(e,{},{},t)}(_),y=function(t){function e(t){$traceurRuntime.superConstructor(e).call(this),this.string=t,this.name="",this.regex=d(t),this.regex+="(;[^/]+)?"}return $traceurRuntime.createClass(e,{generate:function(){return this.string}},{},t)}(_),b=$traceurRuntime.createClass(function(t){this.name=t,this.regex="([^/]+)"},{generate:function(t){if(!h.contains(t.map,this.name))throw new l("Route generator for '"+this.name+"' was not included in parameters passed.");return e(t.get(this.name))}},{}),b=a([p(_),o("design:paramtypes",[String])],b),w=function(){function t(t){this.name=t,this.regex="(.+)"}return $traceurRuntime.createClass(t,{generate:function(t){return e(t.get(this.name))}},{})}(),S=/^:([^\/]+)$/g,C=/^\*([^\/]+)$/g,x=c.create("//|\\(|\\)|;|\\?|="),k=function(){function t(t,e){var r=void 0!==arguments[2]?arguments[2]:!1,a=this;this.path=t,this.handler=e,this.isRoot=r,this.terminal=!0,i(t);var o=n(t),u=o.specificity,s=o.segments,f="^";g.forEach(s,function(t){t instanceof R?a.terminal=!1:f+="/"+t.regex}),this.terminal&&(f+="$"),this.regex=c.create(f),this.segments=s,this.specificity=u}return $traceurRuntime.createClass(t,{parseParams:function(e){var n,r=this.segments.length-1,i=r>=0&&this.segments[r]instanceof w,a=this.isRoot&&this.terminal;if(!i){var o=c.firstMatch(a?t.queryRegex:t.matrixRegex,e);s(o)&&(e=o[1],n=o[2]),e=u.replaceAll(e,/(;[^\/]+)(?=(\/|$))/g,"")}for(var f=h.create(),l=e,g=0;r>=g;g++){var p=this.segments[g];if(!(p instanceof R)){var d=c.firstMatch(c.create("/"+p.regex),l);l=u.substring(l,d[0].length),p.name.length>0&&(f[p.name]=d[1])}}if(s(n)&&n.length>0){var _=a?"?":";";n[0]==_&&m(_,n,f)}return f},generate:function(t){for(var e=new v(t),n=!1,r=this.isRoot&&this.terminal,i="",a=0;a<this.segments.length;a++){var o=this.segments[a],c=o.generate(e);n=n||o instanceof R,c.length>0&&(i+=(a>0?"/":"")+c)}var u=e.getUnused();if(!h.isEmpty(u)){i+=r?"?":";";var f=r?"&":";",a=0;h.forEach(u,function(t,e){a++>0&&(i+=f),i+=e,!s(t)&&r&&(t="true"),s(t)&&(i+="="+t)})}return n&&(i+="/"),i},resolveComponentType:function(){return this.handler.resolveComponentType()}},{})}(),t("PathRecognizer",k),k.matrixRegex=c.create("^(.*/[^/]+?)(;[^/]+)?/?$"),k.queryRegex=c.create("^(.*/[^/]+?)(\\?[^/]+)?$")}}}),System.register("angular2/src/router/route_config_nomalizer",["angular2/src/router/route_config_decorator","angular2/src/facade/lang"],function(t){"use strict";function e(t){if(t instanceof r||t instanceof i||t instanceof n)return t;if(!t.component==!t.redirectTo)throw new a("Route config should contain exactly one 'component', or 'redirectTo' property");if(t.component){if("object"==typeof t.component){var e=t.component;if("constructor"==e.type)return new r({path:t.path,component:e.constructor,as:t.as});if("loader"==e.type)return new n({path:t.path,loader:e.loader,as:t.as});throw new a("Invalid component type '"+e.type+'\'. Valid types are "constructor" and "loader".')}return new r(t)}return t.redirectTo?new i({path:t.path,redirectTo:t.redirectTo}):t}var n,r,i,a;return t("normalizeRouteConfig",e),{setters:[function(t){n=t.AsyncRoute,r=t.Route,i=t.Redirect},function(t){a=t.BaseException}],execute:function(){}}}),System.register("angular2/src/router/route_lifecycle_reflector",["angular2/src/facade/lang","angular2/src/router/lifecycle_annotations_impl","angular2/src/reflection/reflection"],function(t){"use strict";function e(t,e){return e instanceof r?t.name in e.prototype:!1}function n(t){for(var e=a.annotations(t),n=0;n<e.length;n+=1){var r=e[n];if(r instanceof i)return r.fn}return null}var r,i,a;return t("hasLifecycleHook",e),t("getCanActivateHook",n),{setters:[function(t){r=t.Type},function(t){i=t.CanActivate},function(t){a=t.reflector}],execute:function(){}}}),System.register("angular2/src/router/router_link",["angular2/src/core/annotations/decorators","angular2/src/router/router","angular2/src/router/location"],function(t){"use strict";var e,n,r,i,a,o;return{setters:[function(t){r=t.Directive},function(t){i=t.Router},function(t){a=t.Location}],execute:function(){e=this&&this.__decorate||function(t,e,n,r){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(t,e,n,r);switch(arguments.length){case 2:return t.reduceRight(function(t,e){return e&&e(t)||t},e);case 3:return t.reduceRight(function(t,r){return void(r&&r(e,n))},void 0);case 4:return t.reduceRight(function(t,r){return r&&r(e,n,t)||t},r)}},n=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},o=$traceurRuntime.createClass(function(t,e){this._router=t,this._location=e},{set routeParams(t){this._routeParams=t,this._navigationHref=this._router.generate(this._routeParams),this.visibleHref=this._location.normalizeAbsolutely(this._navigationHref)},onClick:function(){return this._router.navigate(this._navigationHref),!1}},{}),t("RouterLink",o),t("RouterLink",o=e([r({selector:"[router-link]",properties:["routeParams: routerLink"],host:{"(^click)":"onClick()","[attr.href]":"visibleHref"}}),n("design:paramtypes",[i,a])],o))}}}),System.register("angular2/src/router/route_recognizer",["angular2/src/facade/lang","angular2/src/facade/collection","angular2/src/router/path_recognizer","angular2/src/router/route_config_impl","angular2/src/router/async_route_handler","angular2/src/router/sync_route_handler","angular2/src/router/helpers"],function(t){"use strict";var e,n,r,i,a,o,c,u,s,f,l,h,g,p,m,d,_,v;return{setters:[function(t){e=t.RegExpWrapper,n=t.isBlank,r=t.isPresent,i=t.isType,a=t.isStringMap,o=t.BaseException},function(t){c=t.Map,u=t.MapWrapper,s=t.StringMapWrapper},function(t){f=t.PathRecognizer},function(t){l=t.Route,h=t.AsyncRoute,g=t.Redirect},function(t){p=t.AsyncRouteHandler},function(t){m=t.SyncRouteHandler},function(t){d=t.parseAndAssignParamString}],execute:function(){_=function(){function t(){var t=void 0!==arguments[0]?arguments[0]:!1;this.isRoot=t,this.names=new c,this.redirects=new c,this.matchers=new c}return $traceurRuntime.createClass(t,{config:function(t){var e;if(t instanceof g){var n="/"==t.path?"":t.path;return this.redirects.set(n,t.redirectTo),!0}t instanceof l?e=new m(t.component):t instanceof h&&(e=new p(t.loader));var i=new f(t.path,e,this.isRoot);return u.forEach(this.matchers,function(e){if(i.regex.toString()==e.regex.toString())throw new o("Configuration '"+t.path+"' conflicts with existing route '"+e.path+"'")}),this.matchers.set(i.regex,i),r(t.as)&&this.names.set(t.as,i),i.terminal},recognize:function(t){var n=[];t.length>0&&"/"==t[t.length-1]&&(t=t.substring(0,t.length-1)),u.forEach(this.redirects,function(e,n){"/"==n||""==n?n==t&&(t=e):t.startsWith(n)&&(t=e+t.substring(n.length))});var i=s.create(),a="",o=t.indexOf("?");return o>=0&&(a=t.substring(o+1),t=t.substring(0,o)),this.isRoot&&a.length>0&&d("&",a,i),u.forEach(this.matchers,function(o,c){var u;if(r(u=e.firstMatch(c,t))){var f="/",l="";"/"!=t&&(f=u[0],l=t.substring(u[0].length));var h=null;o.terminal&&!s.isEmpty(i)&&(h=i,f+="?"+a),n.push(new v(o,f,l,h))}}),n},hasRoute:function(t){return this.names.has(t)},generate:function(t,e){var r=this.names.get(t);if(n(r))return null;var i=r.generate(e);return{url:i,nextComponent:r.handler.componentType}}},{})}(),t("RouteRecognizer",_),v=function(){function t(t,e,n){var i=void 0!==arguments[3]?arguments[3]:null;this.recognizer=t,this.matchedUrl=e,this.unmatchedUrl=n,this._paramsParsed=!1,this._params=r(i)?i:s.create()}return $traceurRuntime.createClass(t,{params:function(){var t=this;return this._paramsParsed||(this._paramsParsed=!0,s.forEach(this.recognizer.parseParams(this.matchedUrl),function(e,n){s.set(t._params,n,e)})),this._params}},{})}(),t("RouteMatch",v)}}}),System.register("angular2/src/router/router",["angular2/src/facade/async","angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/router/route_lifecycle_reflector"],function(t){"use strict";function e(t){return o.reduce(t,function(t,e){return u(e)?o.concat(t,s.split(e,v)):(t.push(e),t)},[])}function n(t,e){var r=g;return f(t.child)&&(r=n(t.child,f(e)?e.child:null)),r.then(function(n){if(0==n)return!1;if(t.reuse)return!0;var r=h(t.component);return f(r)?r(t,e):!0})}var r,i,a,o,c,u,s,f,l,h,g,p,m,d,_,v;return{setters:[function(t){r=t.PromiseWrapper,i=t.EventEmitter,a=t.ObservableWrapper},function(t){o=t.ListWrapper},function(t){c=t.isBlank,u=t.isString,s=t.StringWrapper,f=t.isPresent,l=t.BaseException},function(t){h=t.getCanActivateHook}],execute:function(){g=r.resolve(!0),p=r.resolve(!1),m=function(){function t(t,e,n,r){this.registry=t,this._pipeline=e,this.parent=n,this.hostComponent=r,this.navigating=!1,this._currentInstruction=null,this._currentNavigation=g,this._outlet=null,this._subject=new i}return $traceurRuntime.createClass(t,{childRouter:function(t){return new _(this,t)},registerOutlet:function(t){return this._outlet=t,f(this._currentInstruction)?t.commit(this._currentInstruction):g},config:function(t){var e=this;return t.forEach(function(t){e.registry.config(e.hostComponent,t,e instanceof d)}),this.renavigate()},navigate:function(t){var e=void 0!==arguments[1]?arguments[1]:!1,n=this;return this._currentNavigation=this._currentNavigation.then(function(){return n.lastNavigationAttempt=t,n._startNavigating(),n._afterPromiseFinishNavigating(n.recognize(t).then(function(t){return c(t)?!1:n._reuse(t).then(function(){return n._canActivate(t)}).then(function(r){return r?n._canDeactivate(t).then(function(r){return r?n.commit(t,e).then(function(){return n._emitNavigationFinish(t.accumulatedUrl),!0}):void 0}):!1})}))})},_emitNavigationFinish:function(t){a.callNext(this._subject,t)},_afterPromiseFinishNavigating:function(t){var e=this;return r.catchError(t.then(function(){return e._finishNavigating()}),function(t){throw e._finishNavigating(),t})},_reuse:function(t){var e=this;return c(this._outlet)?p:this._outlet.canReuse(t).then(function(n){return t.reuse=n,f(e._outlet.childRouter)&&f(t.child)?e._outlet.childRouter._reuse(t.child):void 0})},_canActivate:function(t){return n(t,this._currentInstruction)},_canDeactivate:function(t){var e=this;if(c(this._outlet))return g;var n;return n=f(t)&&t.reuse?g:this._outlet.canDeactivate(t),n.then(function(n){return 0==n?!1:f(e._outlet.childRouter)?e._outlet.childRouter._canDeactivate(f(t)?t.child:null):!0})},commit:function(t){void 0!==arguments[1]?arguments[1]:!1;return this._currentInstruction=t,f(this._outlet)?this._outlet.commit(t):g},_startNavigating:function(){this.navigating=!0},_finishNavigating:function(){this.navigating=!1},subscribe:function(t){a.subscribe(this._subject,t)},deactivate:function(t){return f(this._outlet)?this._outlet.deactivate(t):g},recognize:function(t){return this.registry.recognize(t,this.hostComponent)},renavigate:function(){return c(this.lastNavigationAttempt)?this._currentNavigation:this.navigate(this.lastNavigationAttempt)},generate:function(t){var n=e(t),r=o.first(n),i=o.slice(n,1),a=this;if(""==r)for(;f(a.parent);)a=a.parent;else if(".."==r){for(a=a.parent;".."==o.first(i);)if(i=o.slice(i,1),a=a.parent,c(a))throw new l('Link "'+o.toJSON(t)+'" has too many "../" segments.')}else if("."!=r)throw new l('Link "'+o.toJSON(t)+'" must start with "/", "./", or "../"');if(""==i[i.length-1]&&o.removeLast(i),i.length<1){var u='Link "'+o.toJSON(t)+'" must include a route name.';throw new l(u)}var s="";return f(a.parent)&&f(a.parent._currentInstruction)&&(s=a.parent._currentInstruction.capturedUrl),s+"/"+this.registry.generate(i,a.hostComponent)}},{})}(),t("Router",m),d=function(t){function e(t,n,r,i){var a;$traceurRuntime.superConstructor(e).call(this,t,n,null,i),this._location=r,this._location.subscribe((a=this,function(t){return a.navigate(t.url,f(t.pop))})),this.registry.configFromComponent(i,!0),this.navigate(r.path())}return $traceurRuntime.createClass(e,{commit:function(t){var n=void 0!==arguments[1]?arguments[1]:!1,r=this,i=$traceurRuntime.superGet(this,e.prototype,"commit").call(this,t);return n||(i=i.then(function(){r._location.go(t.accumulatedUrl)})),i}},{},t)}(m),t("RootRouter",d),_=function(t){function e(t,n){$traceurRuntime.superConstructor(e).call(this,t.registry,t._pipeline,t,n),this.parent=t}return $traceurRuntime.createClass(e,{navigate:function(t){var e=void 0!==arguments[1]?arguments[1]:!1;return this.parent.navigate(t,e)}},{},t)}(m),v=new RegExp("/")}}}),System.register("angular2/src/router/route_registry",["angular2/src/router/route_recognizer","angular2/src/router/instruction","angular2/src/facade/collection","angular2/src/facade/async","angular2/src/facade/lang","angular2/src/router/route_config_impl","angular2/src/reflection/reflection","angular2/di","angular2/src/router/route_config_nomalizer"],function(t){"use strict";function e(t){for(var e=t[0],n=1;n<t.length;n++){var r=t[n];r.specificity>e.specificity&&(e=r)}return e}function n(t,e){if(h(t)){var n=R.annotations(t);if(f(n))for(var r=0;r<n.length;r++){var i=n[r];if(i instanceof _)throw new m('Child routes are not allowed for "'+e+'". Use "..." on the parent\'s route path.')}}}var r,i,a,o,c,u,s,f,l,h,g,p,m,d,_,v,R,y,b,w;return{setters:[function(t){a=t.RouteRecognizer},function(t){o=t.Instruction},function(t){c=t.ListWrapper,u=t.Map},function(t){s=t.PromiseWrapper},function(t){f=t.isPresent,l=t.isBlank,h=t.isType,g=t.isString,p=t.isStringMap,m=t.BaseException,d=t.getTypeNameForDebugging},function(t){_=t.RouteConfig,v=t.Route},function(t){R=t.reflector},function(t){y=t.Injectable},function(t){b=t.normalizeRouteConfig}],execute:function(){r=this&&this.__decorate||function(t,e,n,r){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(t,e,n,r);switch(arguments.length){case 2:return t.reduceRight(function(t,e){return e&&e(t)||t},e);case 3:return t.reduceRight(function(t,r){return void(r&&r(e,n))},void 0);case 4:return t.reduceRight(function(t,r){return r&&r(e,n,t)||t},r)}},i=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},w=$traceurRuntime.createClass(function(){this._rules=new u},{config:function(t,e){var r=void 0!==arguments[2]?arguments[2]:!1;e=b(e);var i=this._rules.get(t);l(i)&&(i=new a(r),this._rules.set(t,i));var o=i.config(e);e instanceof v&&(o?n(e.component,e.path):this.configFromComponent(e.component))},configFromComponent:function(t){var e=void 0!==arguments[1]?arguments[1]:!1,n=this;if(h(t)&&!this._rules.has(t)){var r=R.annotations(t);if(f(r))for(var i=0;i<r.length;i++){var a=r[i];a instanceof _&&c.forEach(a.configs,function(r){return n.config(t,r,e)})}}},recognize:function(t,n){var r=this,i=this._rules.get(n);if(l(i))return s.resolve(null);var a=i.recognize(t),o=c.map(a,function(t){return r._completeRouteMatch(t)});return s.all(o).then(function(t){var n=c.filter(t,function(t){return f(t)});return n.length>0?e(n):null})},_completeRouteMatch:function(t){var e=this,n=t.recognizer,r=n.handler;return r.resolveComponentType().then(function(r){return e.configFromComponent(r),0==t.unmatchedUrl.length?n.terminal?new o(r,t.matchedUrl,n,null,t.params()):null:e.recognize(t.unmatchedUrl,r).then(function(e){return l(e)?null:new o(r,t.matchedUrl,n,e)})})},generate:function(t,e){for(var n="",r=e,i=0;i<t.length;i+=1){var a=t[i];if(l(r))throw new m('Could not find route named "'+a+'".');if(!g(a))throw new m('Unexpected segment "'+a+'" in link DSL. Expected a string.');if(""==a||"."==a||".."==a)throw new m('"'+a+'/" is only allowed at the beginning of a link DSL.');var o=null;if(i+1<t.length){var c=t[i+1];p(c)&&(o=c,i+=1)}var u=this._rules.get(r);if(l(u))throw new m('Component "'+d(r)+'" has no route config.');var s=u.generate(a,o);if(l(s))throw new m('Component "'+d(r)+'" has no route named "'+a+'".');n+=s.url,r=s.nextComponent}return n}},{}),t("RouteRegistry",w),t("RouteRegistry",w=r([y(),i("design:paramtypes",[])],w))}}}),System.register("angular2/src/router/router_outlet",["angular2/src/facade/async","angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/core/annotations/decorators","angular2/core","angular2/di","angular2/src/router/router","angular2/src/router/instruction","angular2/src/router/lifecycle_annotations","angular2/src/router/route_lifecycle_reflector"],function(t){"use strict";
  var e,n,r,i,a,o,c,u,s,f,l,h,g,p,m,d,_,v;return{setters:[function(t){i=t.PromiseWrapper},function(t){a=t.StringMapWrapper},function(t){o=t.isBlank,c=t.isPresent},function(t){u=t.Directive,s=t.Attribute},function(t){f=t.DynamicComponentLoader,l=t.ElementRef},function(t){h=t.Injector,g=t.bind},function(t){p=t},function(t){m=t.RouteParams},function(t){d=t},function(t){_=t.hasLifecycleHook}],execute:function(){e=this&&this.__decorate||function(t,e,n,r){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(t,e,n,r);switch(arguments.length){case 2:return t.reduceRight(function(t,e){return e&&e(t)||t},e);case 3:return t.reduceRight(function(t,r){return void(r&&r(e,n))},void 0);case 4:return t.reduceRight(function(t,r){return r&&r(e,n,t)||t},r)}},n=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},r=this&&this.__param||function(t,e){return function(n,r){e(n,r,t)}},v=$traceurRuntime.createClass(function(t,e,n){this._elementRef=t,this._loader=e,this._parentRouter=n,this.childRouter=null,this._componentRef=null,this._currentInstruction=null,this._parentRouter.registerOutlet(this)},{commit:function(t){var e,n=this;return e=t.reuse?this._reuse(t):this.deactivate(t).then(function(){return n._activate(t)}),e.then(function(){return n._commitChild(t)})},_commitChild:function(t){return c(this.childRouter)?this.childRouter.commit(t.child):i.resolve(!0)},_activate:function(t){var e=this,n=this._currentInstruction;this._currentInstruction=t,this.childRouter=this._parentRouter.childRouter(t.component);var r=h.resolve([g(m).toValue(new m(t.params())),g(p.Router).toValue(this.childRouter)]);return this._loader.loadNextToLocation(t.component,this._elementRef,r).then(function(r){return e._componentRef=r,_(d.onActivate,t.component)?e._componentRef.instance.onActivate(t,n):void 0})},canDeactivate:function(t){return i.resolve(o(this._currentInstruction)?!0:_(d.canDeactivate,this._currentInstruction.component)?this._componentRef.instance.canDeactivate(t,this._currentInstruction):!0)},canReuse:function(t){var e;return e=o(this._currentInstruction)||this._currentInstruction.component!=t.component?!1:_(d.canReuse,this._currentInstruction.component)?this._componentRef.instance.canReuse(t,this._currentInstruction):t==this._currentInstruction||a.equals(t.params(),this._currentInstruction.params()),i.resolve(e)},_reuse:function(t){var e=this._currentInstruction;return this._currentInstruction=t,i.resolve(_(d.onReuse,this._currentInstruction.component)?this._componentRef.instance.onReuse(t,e):!0)},deactivate:function(t){var e=this;return(c(this.childRouter)?this.childRouter.deactivate(c(t)?t.child:null):i.resolve(!0)).then(function(){return c(e._componentRef)&&c(e._currentInstruction)&&_(d.onDeactivate,e._currentInstruction.component)?e._componentRef.instance.onDeactivate(t,e._currentInstruction):void 0}).then(function(){c(e._componentRef)&&(e._componentRef.dispose(),e._componentRef=null)})}},{}),t("RouterOutlet",v),t("RouterOutlet",v=e([u({selector:"router-outlet"}),r(3,s("name")),n("design:paramtypes",[l,f,p.Router,String])],v))}}}),System.register("angular2/router",["angular2/src/router/router","angular2/src/router/router_outlet","angular2/src/router/router_link","angular2/src/router/instruction","angular2/src/router/route_registry","angular2/src/router/location_strategy","angular2/src/router/hash_location_strategy","angular2/src/router/html5_location_strategy","angular2/src/router/location","angular2/src/router/pipeline","angular2/src/router/route_config_decorator","angular2/src/router/route_definition","angular2/src/router/lifecycle_annotations","angular2/src/core/application_tokens","angular2/di","angular2/src/facade/lang"],function(t){"use strict";var e,n,r,i,a,o,c,u,s,f,l,h,g,p,m={routerDirectives:!0,routerInjectables:!0,undefined:!0},m={routerDirectives:!0,routerInjectables:!0,undefined:!0};return{setters:[function(e){r=e.Router,i=e.RootRouter,t("Router",e.Router),t("RootRouter",e.RootRouter)},function(e){a=e.RouterOutlet,t("RouterOutlet",e.RouterOutlet)},function(e){o=e.RouterLink,t("RouterLink",e.RouterLink)},function(e){t("RouteParams",e.RouteParams),t("Instruction",e.Instruction)},function(e){c=e.RouteRegistry,t("RouteRegistry",e.RouteRegistry)},function(n){e=n.LocationStrategy,t("LocationStrategy",n.LocationStrategy)},function(e){t("HashLocationStrategy",e.HashLocationStrategy)},function(e){n=e.HTML5LocationStrategy,t("HTML5LocationStrategy",e.HTML5LocationStrategy)},function(e){s=e.Location,t("Location",e.Location),t("appBaseHrefToken",e.appBaseHrefToken)},function(e){u=e.Pipeline,t("Pipeline",e.Pipeline)},function(e){Object.keys(e).forEach(function(n){m[n]||t(n,e[n])})},function(e){Object.keys(e).forEach(function(n){m[n]||t(n,e[n])})},function(e){t("CanActivate",e.CanActivate)},function(t){f=t.appComponentTypeToken},function(t){l=t.bind},function(t){h=t.CONST_EXPR}],execute:function(){g=h([a,o]),t("routerDirectives",g),p=[c,u,l(e).toClass(n),s,l(r).toFactory(function(t,e,n,r){return new i(t,e,n,r)},[c,u,s,f])],t("routerInjectables",p)}}});